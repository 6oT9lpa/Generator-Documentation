

## Part 1
# Документация к проекту

## Содержание
- [Описание проекта](#описание-проекта)
- [Основные классы](#основные-классы)
  - [MainWindowForm](#mainwindowform)
  - [UserDialog](#userdialog)
  - [DishDialog](#dishdialog)
  - [AdminDashboard](#admindashboard)
  - [CookerDashboard](#cookerdashboard)
  - [WaiterDashboard](#waiterdashboard)
  - [InitializationWindow](#initializationwindow)
- [Библиотеки](#библиотеки)

## Описание проекта

Проект представляет собой систему управления рестораном с графическим интерфейсом на основе PyQt5. Система включает функционал для трёх типов пользователей:
- Администратор
- Официант
- Повар

Основные возможности:
- Авторизация пользователей
- Управление пользователями (для админа)
- Управление блюдами (для админа)
- Просмотр статистики заказов (для админа)
- Создание заказов (для официантов)
- Принятие/изменение статуса заказов (для поваров)

---

## Основные классы

### MainWindowForm

Класс формы авторизации пользователей.

**Методы:**
1. `__init__(self, parent=None)` - инициализация формы (O(1))
   - Создает поля для ввода логина и пароля
   - Добавляет кнопку входа

2. `login(self)` - обработка входа пользователя (O(n))
   - Проверяет заполнение полей
   - Проверяет существование пользователя
   - Проверяет правильность пароля
   - Открывает соответствующий интерфейс в зависимости от роли

3. `show_register_page(self)` - переход на страницу регистрации (O(1))

**Параметры:**
- `parent` - родительское окно
- `name_input` - поле для ввода логина
- `password_input` - поле для ввода пароля

**Выводит:**
- Сообщения об ошибках или успешном входе

---

### UserDialog

Диалоговое окно для работы с пользователями (добавление/редактирование).

**Методы:**
1. `__init__(self, parent=None, user=None)` - инициализация (O(1))
   - Создает поля для ввода логина, пароля и выбора роли

**Параметры:**
- `parent` - родительское окно
- `user` - объект пользователя (None при создании нового)

**Выводит:**
- Диалоговое окно с формой

---

### DishDialog

Диалоговое окно для работы с блюдами (добавление/редактирование).

**Методы:**
1. `__init__(self, parent=None, dish=None)` - инициализация (O(1))
   - Создает поле для ввода названия блюда

**Параметры:**
- `parent` - родительское окно
- `dish` - объект блюда (None при создании нового)

**Выводит:**
- Диалоговое окно с формой

---

### AdminDashboard

Главное окно администратора с вкладками управления.

**Методы:**
1. `__init__(self, parent=None)` - инициализация (O(1))
   - Создает вкладки для пользователей, блюд и статистики

2. `init_user_tab(self)` - настройка вкладки пользователей (O(1))
3. `load_users(self)` - загрузка списка пользователей (O(n))
4. `add_user(self)` - добавление пользователя (O(1))
5. `edit_user(self)` - редактирование пользователя (O(1))
6. `delete_user(self)` - удаление пользователя (O(n))
7. `init_dish_tab(self)` - настройка вкладки блюд (O(1))
8. `load_dishes(self)` - загрузка списка блюд (O(n))
9. `add_dish(self)` - добавление блюда (O(1))
10. `edit_dish(self)` - редактирование блюда (O(1))
11. `delete_dish(self)` - удаление блюда (O(n))
12. `init_stats_tab(self)` - настройка вкладки статистики (O(1))
13. `load_stats(self)` - загрузка статистики (O(n))
14. `export_to_csv(self)` - экспорт в CSV (O(n))

**Параметры:**
- `parent` - родительское окно
- `current_user` - текущий пользователь

---

### CookerDashboard

Главное окно повара.

**Методы:**
1. `__init__(self, parent=None)` - инициализация (O(1))
   - Создает кнопки для управления заказами

2. `manage_active_orders_window(self)` - управление активными заказами (O(1))
3. `manage_order_history_window(self)` - управление историей заказов (O(1))
4. `closeEvent(self, event)` - обработка закрытия (O(1))

**Параметры:**
- `parent` - родительское окно
- `current_user` - текущий пользователь

---

### WaiterDashboard

Главное окно официанта.

**Методы:**
1. `__init__(self, parent=None)` - инициализация (O(1))
   - Создает кнопки для создания и просмотра заказов

2. `manage_create_order_window(self)` - окно создания заказа (O(1))
3. `manage_active_orders_window(self)` - окно активных заказов (O(1))
4. `manage_order_history_window(self)` - окно истории заказов (O(1))
5. `closeEvent(self, event)` - обработка закрытия (O(1))

**Параметры:**
- `parent` - родительское окно
- `current_user` - текущий пользователь

---

### InitializationWindow

Основное окно приложения.

**Методы:**
1. `__init__(self)` - инициализация (O(1))
   - Создает стек виджетов и форму авторизации

2. `set_current_user(self, user)` - сохранение текущего пользователя (O(1))
3. `show_admin_dashboard(self)` - показ интерфейса админа (O(1))
4. `show_waiter_dashboard(self)` - показ интерфейса официанта (O(1))
5. `show_chef_dashboard(self)` - показ интерфейса повара (O(1))

---

## Библиотеки

Используемые библиотеки:
- `PyQt5` - для графического интерфейса
- `SQLAlchemy` - для работы с базой данных
- `datetime` - для работы с датами
- `csv` - для экспорта данных
- `sys` - для работы с системными функциями

Связи между файлами:
- `__init__.py` содержит модели данных
- Используется стилизация через `style/style.qss`

⚠️ **Внимание:** Для работы требуется корректная настройка базы данных через SQLAlchemy.

❗ **Осторожно:** При удалении пользователей или блюд проверяются связанные заказы.